(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{187:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"json-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-是什么","aria-hidden":"true"}},[t._v("#")]),t._v(" JSON 是什么")]),t._v(" "),a("p",[a("strong",[t._v("JSON")]),t._v("，全称 "),a("strong",[t._v("J")]),t._v("ava"),a("strong",[t._v("S")]),t._v("cript "),a("strong",[t._v("O")]),t._v("bject "),a("strong",[t._v("N")]),t._v("otation. 是 JS 的数据结构的子集。相信大家对 JSON 也非常熟悉了。JSON 一共只有六种数据结构，这里列举他们在 JS 和 Python 中的叫法以及在 JSON 中的例子：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("JS")]),t._v(" "),a("th",[t._v("Python3")]),t._v(" "),a("th",[t._v("JSON")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("string")]),t._v(" "),a("td",[t._v("string")]),t._v(" "),a("td",[a("code",[t._v('"ABC"')])])]),t._v(" "),a("tr",[a("td",[t._v("number")]),t._v(" "),a("td",[t._v("int/float")]),t._v(" "),a("td",[a("code",[t._v("123")]),t._v(" "),a("code",[t._v("-1.23")])])]),t._v(" "),a("tr",[a("td",[t._v("boolean")]),t._v(" "),a("td",[t._v("bool")]),t._v(" "),a("td",[a("code",[t._v("true")]),t._v(" "),a("code",[t._v("false")])])]),t._v(" "),a("tr",[a("td",[t._v("null")]),t._v(" "),a("td",[t._v("None")]),t._v(" "),a("td",[a("code",[t._v("null")])])]),t._v(" "),a("tr",[a("td",[t._v("object")]),t._v(" "),a("td",[t._v("dictnu")]),t._v(" "),a("td",[a("code",[t._v('{"key": "value"}')])])]),t._v(" "),a("tr",[a("td",[t._v("array")]),t._v(" "),a("td",[t._v("list")]),t._v(" "),a("td",[a("code",[t._v('["ABC", 123, true]')])])])])]),t._v(" "),a("p",[t._v("由于 JSON 是 JS 语法的子集，所以下文中我都会使用 JS 的称呼。")]),t._v(" "),a("p",[t._v("得益于 JSON 极致的简单"),a("s",[t._v("和 JS 的广泛使用")]),t._v("，JSON 很快流行了起来。但是简单也有简单的坏处，人们逐渐发现 JSON 缺少一些必要的功。")]),t._v(" "),a("h2",{attrs:{id:"json-schema-是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-schema-是什么？","aria-hidden":"true"}},[t._v("#")]),t._v(" JSON Schema 是什么？")]),t._v(" "),a("p",[t._v("当前后端使用 JSON 通信的时候，双方需要验证 JSON 的数据格式，比如验证 array 的长度、number 的大小、甚至于类似 object 中有某两个属性不能并存等等要求。当然这些规则都可以使用代码进行验证，但是这样写起来太繁琐了，所以为了"),a("strong",[t._v("描述并校验 JSON 的格式")]),t._v("，JSON Schema 诞生了。")]),t._v(" "),a("p",[t._v("这里有一个非常简单的 JSON Schema 的例子：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://json-schema.org/draft-04/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"properties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"integer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclusiveMinimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"telephone"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pattern"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^(\\\\([0-9]{3}\\\\))?[0-9]{3}-[0-9]{4}$"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"required"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"additionalProperties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("上面这个 JSON 描述了这样的一个 JSON：")]),t._v(" "),a("ul",[a("li",[t._v("类型是 object")]),t._v(" "),a("li",[t._v("有四个属性：\n"),a("ul",[a("li",[t._v("name：\n"),a("ul",[a("li",[t._v("类型为 string")])])]),t._v(" "),a("li",[t._v("email：\n"),a("ul",[a("li",[t._v("类型为 string")])])]),t._v(" "),a("li",[t._v("Age：\n"),a("ul",[a("li",[t._v("类型为整数")]),t._v(" "),a("li",[t._v("这个整数要大于等于 0")])])]),t._v(" "),a("li",[t._v("telephone：\n"),a("ul",[a("li",[t._v("类型为 string")]),t._v(" "),a("li",[t._v("需要符合这个正则表达式")])])])])]),t._v(" "),a("li",[t._v("上面这四个属性中必须出现有的 name 和 email，剩下的两个是可选的")]),t._v(" "),a("li",[t._v("除了这四个属性外，不允许出现其他属性")])]),t._v(" "),a("p",[t._v("比如说，这样的一个 JSON 就符合这些要求：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sherlock Holmes"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sherlock@gmail.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("164")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("可以看到，JSON Schema 本身也是一个 JSON。同一个 JSON，"),a("s",[t._v("同一个世界")]),t._v("前后端都能看懂，那么的话这个 JSON Schema 就既可以作为执行代码，又可以作为文档。这种统一确保了代码和文档不会脱节，省去了写文档的功夫。毕竟程序员最讨厌的就是没有文档的代码和写文档了。")]),t._v(" "),a("h2",{attrs:{id:"understanding-json-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#understanding-json-schema","aria-hidden":"true"}},[t._v("#")]),t._v(" Understanding JSON Schema")]),t._v(" "),a("p",[t._v("在这里，"),a("strong",[t._v("我强烈推荐阅读 "),a("a",{attrs:{href:"https://spacetelescope.github.io/understanding-json-schema/#understanding-json-schema",target:"_blank",rel:"noopener noreferrer"}},[t._v("Understanding JSON Schema"),a("OutboundLink")],1)]),t._v("，以至于我要专门写一章来介绍它。这是一个非常适合初学者的教程，有着及其清晰的例子。虽然截止写稿时其版本还停留在 draft-04，不过瑕不掩瑜，依然是我心中最优秀的 JSON Schema 教程。")]),t._v(" "),a("p",[t._v("在这里列一下 Understanding JSON Schema 的大纲，方便查漏补缺：")]),t._v(" "),a("ul",[a("li",[t._v("Type-specific keywords\n"),a("ul",[a("li",[a("code",[t._v("string")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("minLength")])]),t._v(" "),a("li",[a("code",[t._v("maxLength")])]),t._v(" "),a("li",[a("code",[t._v("pattern")])])])]),t._v(" "),a("li",[t._v("Numeric types\n"),a("ul",[a("li",[t._v("types: "),a("code",[t._v("integer")]),t._v(", "),a("code",[t._v("number")])]),t._v(" "),a("li",[a("code",[t._v("multipleOf")])]),t._v(" "),a("li",[t._v("range: "),a("code",[t._v("minimum")]),t._v(", "),a("code",[t._v("exclusiveMinimum")]),t._v(", "),a("code",[t._v("maximum")]),t._v(", "),a("code",[t._v("exclusiveMaximum")])])])]),t._v(" "),a("li",[a("code",[t._v("object")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("properties")])]),t._v(" "),a("li",[a("code",[t._v("additionalProperties")])]),t._v(" "),a("li",[a("code",[t._v("required")])]),t._v(" "),a("li",[t._v("size: "),a("code",[t._v("minProperties")]),t._v(", "),a("code",[t._v("maxProperties")])]),t._v(" "),a("li",[a("code",[t._v("dependencies")])]),t._v(" "),a("li",[a("code",[t._v("patternProperties")])])])]),t._v(" "),a("li",[a("code",[t._v("array")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("items")])]),t._v(" "),a("li",[t._v("length: "),a("code",[t._v("minItems")]),t._v(", "),a("code",[t._v("maxItems")])]),t._v(" "),a("li",[a("code",[t._v("uniqueItems")])])])]),t._v(" "),a("li",[a("code",[t._v("boolean")])]),t._v(" "),a("li",[a("code",[t._v("null")])])])]),t._v(" "),a("li",[t._v("Generic keywords\n"),a("ul",[a("li",[t._v("Metadata: "),a("code",[t._v("title")]),t._v(", "),a("code",[t._v("description")]),t._v(", "),a("code",[t._v("default")])]),t._v(" "),a("li",[t._v("Enumerated values: "),a("code",[t._v("enum")])])])]),t._v(" "),a("li",[t._v("Combining schemas\n"),a("ul",[a("li",[a("code",[t._v("allOf")])]),t._v(" "),a("li",[a("code",[t._v("anyOf")])]),t._v(" "),a("li",[a("code",[t._v("oneOf")])]),t._v(" "),a("li",[a("code",[t._v("not")])])])]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("$schema")]),t._v(" keyword")]),t._v(" "),a("li",[t._v("Regular Expressions")])]),t._v(" "),a("h2",{attrs:{id:"版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本","aria-hidden":"true"}},[t._v("#")]),t._v(" 版本")]),t._v(" "),a("p",[t._v("截止到今天，JSON Schema 一共有 7 个版本，最新的是 draft-07。不同版本之间并不（完全）兼容，所以最佳实践是在写 JSON Schema 的时候使用 "),a("code",[t._v("$schema")]),t._v(" 关键字标记当前使用的是哪个规范。")]),t._v(" "),a("p",[t._v("下面举个例子，展示了 draft-04 和 draft-06 中「大于」和「大于等于」写法：")]),t._v(" "),a("p",[t._v("大于：")]),t._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://json-schema.org/draft-06/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclusiveMinimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://json-schema.org/draft-04/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclusiveMinimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("大于等于：")]),t._v(" "),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://json-schema.org/draft-06/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://json-schema.org/draft-04/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclusiveMinimum"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("em",[t._v("注：在 draft-04 中，"),a("code",[t._v("exclusiveMinimum")]),t._v(" 的默认值就是 "),a("code",[t._v("false")]),t._v("，所以可以不写。")])]),t._v(" "),a("p",[t._v("在 draft-04 中，"),a("code",[t._v("exclusiveMinimum")]),t._v(" 的值是 "),a("code",[t._v("boolean")]),t._v("，draft-06 中改成了 "),a("code",[t._v("number")]),t._v("。在相同含义的情况下，新版的写法的确更加简洁。")]),t._v(" "),a("p",[t._v("关于不同版本之间的区别可以查看官网的 "),a("a",{attrs:{href:"http://json-schema.org/specification.html#migrating-from-older-drafts",target:"_blank",rel:"noopener noreferrer"}},[t._v("Migrating from older drafts"),a("OutboundLink")],1),t._v(" 一节。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("JSON Schema 作为一个验证 JSON 的通用语法，我认为它成功完成了自己的任务。虽然有一些诸如可读性不高，写法繁琐的缺点，但是我认为这些都是必要的妥协。")]),t._v(" "),a("blockquote",[a("p",[t._v("评论功能还未上线，大家可以去"),a("a",{attrs:{href:"https://juejin.im/post/5b5533e3e51d45195c0747b8",target:"_blank",rel:"noopener noreferrer"}},[t._v("掘金"),a("OutboundLink")],1),t._v("评论本文。")])]),t._v(" "),a("hr"),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.creativecommons.org/l/by-nc-nd/2.5/cn/88x31.png",alt:"知识共享协议"}})]),t._v(" "),a("p",[t._v("本文采用"),a("a",{attrs:{href:"http://creativecommons.org/licenses/by-nc-nd/2.5/cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("知识共享署名-非商业性使用-禁止演绎 2.5 中国大陆许可协议"),a("OutboundLink")],1),t._v("进行许可。")])])},[],!1,null,null,null);s.default=n.exports}}]);